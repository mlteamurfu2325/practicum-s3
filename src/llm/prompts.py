"""Prompt templates for LLM interactions."""

VALIDATION_PROMPT = (
    """
Роль: Валидатор входных данных для генератора отзывов

Задача: Проверить базовую пригодность пользовательского ввода для генерации """
    """отзыва.

Входные данные: "{input_text}"

Проверь следующие критерии и ответь строго в формате JSON """
    """(с запятыми между полями):
{
    "is_valid": true/false,
    "error_type": null/"non_russian"/"nsfw"/"irrelevant"/"gibberish",
    "explanation": "причина отклонения, если есть"
}

Критерии проверки:
1. Текст на русском языке
2. Отсутствие NSFW контента
3. Текст имеет отношение к описанию места/заведения/услуги
4. Текст осмысленный (не случайный набор символов)

Примечания:
- Принимай любой осмысленный текст на русском языке, даже если он краткий
- Отклоняй только явно неподходящие тексты (нецензурные, на других языках)
- В случае сомнений лучше принять текст, чем отклонить

Примеры валидных тем:
- качество обслуживания
- чистота помещения
- вкус кофе
- кафе
- еда
- интерьер
- персонал
"""
)

GENERATION_PROMPT = (
    """
Роль: Опытный составитель отзывов для Яндекс.Карт

Задача: Сгенерировать правдоподобный отзыв о месте ({category}) """
    """с рейтингом {rating}/5.
Ключевая тема отзыва: {theme}

Требования к отзыву:
1. Естественность языка и стиля
2. Эмоциональный тон соответствует рейтингу
3. Основной акцент на указанной теме
4. Специфичность для указанной рубрики
5. Длина: 2-4 предложения

Формат отзыва:
- Без приветствий и обращений
- Только текст отзыва
- Без подписей и дат
"""
)

SELF_CHECK_PROMPT = (
    """
Роль: Эксперт по оценке качества отзывов

Задача: Проверить качество сгенерированного отзыва.

Отзыв: "{generated_review}"

Ожидаемые параметры:
- Тема: {theme}
- Рейтинг: {rating}/5
- Категория: {category}

Оцени по критериям и верни результат строго в формате JSON """
    """(с запятыми между полями):
{
    "scores": {
        "theme_relevance": 0-10,
        "rating_match": 0-10,
        "language_quality": 0-10,
        "consistency": 0-10,
        "category_specificity": 0-10
    },
    "verdict": "accept"/"reject",
    "issues": ["список проблем, если есть"]
}

Пояснения к критериям:
1. theme_relevance: Насколько отзыв соответствует заданной теме
2. rating_match: Соответствие эмоционального тона рейтингу
3. language_quality: Естественность и грамотность языка
4. consistency: Отсутствие внутренних противоречий
5. category_specificity: Специфичность для категории заведения
"""
)
